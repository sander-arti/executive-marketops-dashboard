"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{1470:(e,t,r)=>{r.d(t,{$n:()=>c,A0:()=>f,BF:()=>g,Ex:()=>d,Hj:()=>p,XI:()=>x,Xi:()=>b,Zp:()=>o,cn:()=>n,j7:()=>m,nA:()=>v,nd:()=>h,tU:()=>u});var s=r(9700),a=r(1464),l=r(5797),i=r(6275);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,l.$)(t))}let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm",r),...a})});o.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:n("text-lg font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("p-6 pt-0",r),...a})}).displayName="CardContent";let d=e=>{let{className:t,variant:r="default",...a}=e;return(0,s.jsx)("div",{className:n("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2",{default:"border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80",destructive:"border-transparent bg-red-500 text-slate-50 hover:bg-red-500/80",outline:"text-slate-950 border-slate-200",success:"border-transparent bg-emerald-500 text-white",warning:"border-transparent bg-amber-500 text-white"}[r],t),...a})},c=a.forwardRef((e,t)=>{let{className:r,variant:a="default",size:l="default",...i}=e;return(0,s.jsx)("button",{ref:t,className:n("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900",ghost:"hover:bg-slate-100 hover:text-slate-900",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80"}[a],{default:"h-10 px-4 py-2",sm:"h-9 px-3 py-1.5 text-xs"}[l],r),...i})});c.displayName="Button";let u=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:n("",t),...r})},m=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:n("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500",t),...r})},b=e=>{let{className:t,isActive:r,...a}=e;return(0,s.jsx)("button",{className:n("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r?"bg-white text-slate-950 shadow-sm":"hover:bg-slate-200/50 hover:text-slate-900",t),...a})},x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:n("w-full caption-bottom text-sm",r),...a})})});x.displayName="Table";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:n("[&_tr]:border-b",r),...a})});f.displayName="TableHeader";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:n("[&_tr:last-child]:border-0",r),...a})});g.displayName="TableBody";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:n("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100",r),...a})});p.displayName="TableRow";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:n("h-12 px-4 text-left align-middle font-medium text-slate-500 [&:has([role=checkbox])]:pr-0",r),...a})});h.displayName="TableHead";let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:n("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});v.displayName="TableCell"},1971:(e,t,r)=>{async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=localStorage.getItem("supabase_auth_token"),s={"Content-Type":"application/json",...t.headers};r&&(s.Authorization="Bearer ".concat(r));let a="".concat("/api").concat(e),l=await fetch(a,{...t,headers:s});if(!l.ok)throw Error((await l.json().catch(()=>({}))).error||"HTTP ".concat(l.status,": ").concat(l.statusText));return l.json()}r.d(t,{FH:()=>a});let a={reports:{list:e=>{let t=new URLSearchParams;(null==e?void 0:e.track)&&t.set("track",e.track),(null==e?void 0:e.period)&&t.set("period",e.period),(null==e?void 0:e.productId)&&t.set("productId",e.productId),(null==e?void 0:e.relatedEntity)&&t.set("relatedEntity",e.relatedEntity);let r=t.toString();return s("/reports".concat(r?"?".concat(r):""))},get:e=>s("/reports/".concat(e))},insights:{list:e=>{let t=new URLSearchParams;(null==e?void 0:e.track)&&t.set("track",e.track),(null==e?void 0:e.type)&&t.set("type",e.type),(null==e?void 0:e.reportId)&&t.set("reportId",e.reportId),(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString());let r=t.toString();return s("/insights".concat(r?"?".concat(r):""))}},chat:{reportChat:(e,t)=>s("/chat/report/".concat(e),{method:"POST",body:JSON.stringify({message:t})})},actionItems:{list:e=>{let t=new URLSearchParams;(null==e?void 0:e.completed)!==void 0&&t.set("completed",String(e.completed)),(null==e?void 0:e.priority)&&t.set("priority",e.priority);let r=t.toString();return s("/action-items".concat(r?"?".concat(r):""))},create:e=>s("/action-items",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s("/action-items/".concat(e),{method:"PATCH",body:JSON.stringify(t)})},dailyBriefing:{get:e=>{let t=new URLSearchParams;e&&t.set("date",e);let r=t.toString();return s("/daily-briefing".concat(r?"?".concat(r):"")).catch(e=>{if(e.message.includes("404")||e.message.includes("No briefing"))return null;throw e})}}}},4270:(e,t,r)=>{r.d(t,{n:()=>h,w:()=>p});var s=r(9700),a=r(1464),l=r(9370),i=r(1470),n=r(3627),o=r(7527),d=r(6149),c=r(6656),u=r(7158),m=r(1716),b=r(4245),x=r(1488),f=r(8667),g=r(4751);let p=e=>{switch(e){case"Proponent":return{icon:n.A,color:"text-indigo-600",bg:"bg-indigo-50",border:"border-indigo-200"};case"Bentrio":return{icon:o.A,color:"text-cyan-600",bg:"bg-cyan-50",border:"border-cyan-200"};case"Smertebehandling":return{icon:d.A,color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-200"};default:return{icon:c.A,color:"text-slate-600",bg:"bg-slate-50",border:"border-slate-200"}}},h=e=>{let{item:t,onClick:r,compact:n}=e,o=a.useMemo(()=>{let e=new Date(t.createdAt);return 3>=Math.ceil(Math.abs(new Date().getTime()-e.getTime())/864e5)},[t.createdAt]);return(0,s.jsxs)("div",{onClick:()=>r(t),className:"group bg-white rounded-lg border border-slate-200 hover:border-slate-300 hover:shadow-md transition-all cursor-pointer flex flex-col h-full relative",children:[o&&(0,s.jsxs)("div",{className:"absolute -top-1.5 -right-1.5 flex items-center gap-1 bg-blue-600 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-full shadow-sm z-10 border border-white animate-in zoom-in duration-300",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"}),"NY"]}),(0,s.jsxs)("div",{className:"p-5 flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap items-center",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-semibold border ".concat((()=>{switch(t.type){case l.X.OPPORTUNITY:return"bg-amber-50 text-amber-700 border-amber-200";case l.X.RISK:return"bg-red-50 text-red-700 border-red-200";case l.X.EVIDENCE:return"bg-emerald-50 text-emerald-700 border-emerald-200";case l.X.PARTNER:return"bg-indigo-50 text-indigo-700 border-indigo-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}})()),children:[(()=>{switch(t.type){case l.X.OPPORTUNITY:return(0,s.jsx)(u.A,{size:18,className:"text-amber-500"});case l.X.RISK:return(0,s.jsx)(m.A,{size:18,className:"text-red-500"});case l.X.EVIDENCE:return(0,s.jsx)(b.A,{size:18,className:"text-emerald-500"});case l.X.TREND:return(0,s.jsx)(x.A,{size:18,className:"text-blue-500"});case l.X.PARTNER:return(0,s.jsx)(f.A,{size:18,className:"text-indigo-500"})}})(),t.type]}),t.relatedProducts.map(e=>{let t=p(e),r=t.icon;return(0,s.jsxs)("span",{className:(0,i.cn)("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border",t.bg,t.color,t.border),children:[(0,s.jsx)(r,{size:12}),e]},e)}),t.markets.map(e=>(0,s.jsx)("span",{className:"px-2 py-0.5 rounded bg-slate-100 text-slate-600 text-xs font-medium border border-slate-200",children:e},e))]}),t.fitScore&&(0,s.jsxs)("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded border border-indigo-100",children:[t.fitScore,"% Match"]})]}),(0,s.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 leading-snug group-hover:text-blue-600 transition-colors",children:t.title}),!n&&(0,s.jsx)("p",{className:"text-sm text-slate-500 line-clamp-2 mb-4 flex-1",children:t.whyBullets[0]}),(0,s.jsxs)("div",{className:"mt-auto pt-4 border-t border-slate-100 flex items-center gap-4 text-xs font-medium text-slate-500",children:[(0,s.jsxs)("div",{title:"Forretningsbetydning",className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t.scores.impact>8?"bg-emerald-500":"bg-slate-300")}),"Betydning ",t.scores.impact]}),(0,s.jsxs)("div",{title:"Risikoniv\xe5",className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t.scores.risk>7?"bg-red-500":"bg-slate-300")}),"Risiko ",t.scores.risk]}),(0,s.jsxs)("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity text-blue-600 flex items-center gap-1",children:["Detaljer ",(0,s.jsx)(g.A,{size:12})]})]})]})]})}},8598:(e,t,r)=>{r.d(t,{rY:()=>n,z3:()=>o});var s=r(1856),a=r(1971);let l={all:["reports"],lists:()=>[...l.all,"list"],list:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[...l.lists(),e]},details:()=>[...l.all,"detail"],detail:e=>[...l.details(),e]},i={all:["insights"],lists:()=>[...i.all,"list"],list:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[...i.lists(),e]}};function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.I)({queryKey:l.list(e),queryFn:()=>a.FH.reports.list(e),staleTime:3e5})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.I)({queryKey:i.list(e),queryFn:()=>a.FH.insights.list(e),staleTime:3e5})}},9370:(e,t,r)=>{r.d(t,{C:()=>s,X:()=>a});var s=function(e){return e.PRODUCT="Produkter",e.LANDSCAPE="Landskap",e.PORTFOLIO="Portef\xf8lje",e}({}),a=function(e){return e.OPPORTUNITY="Mulighet",e.RISK="Risiko",e.TREND="Trend",e.EVIDENCE="Evidens",e.PARTNER="Partnerkandidat",e}({})}}]);