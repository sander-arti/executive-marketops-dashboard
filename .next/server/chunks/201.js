"use strict";exports.id=201,exports.ids=[201],exports.modules={237:(a,b,c)=>{async function d(a,b={}){let c=localStorage.getItem("supabase_auth_token"),e={"Content-Type":"application/json",...b.headers};c&&(e.Authorization=`Bearer ${c}`);let f=`/api${a}`,g=await fetch(f,{...b,headers:e});if(!g.ok)throw Error((await g.json().catch(()=>({}))).error||`HTTP ${g.status}: ${g.statusText}`);return g.json()}c.d(b,{FH:()=>e});let e={reports:{list:a=>{let b=new URLSearchParams;a?.track&&b.set("track",a.track),a?.period&&b.set("period",a.period),a?.productId&&b.set("productId",a.productId),a?.relatedEntity&&b.set("relatedEntity",a.relatedEntity);let c=b.toString();return d(`/reports${c?`?${c}`:""}`)},get:a=>d(`/reports/${a}`)},insights:{list:a=>{let b=new URLSearchParams;a?.track&&b.set("track",a.track),a?.type&&b.set("type",a.type),a?.reportId&&b.set("reportId",a.reportId),a?.status&&b.set("status",a.status),a?.limit&&b.set("limit",a.limit.toString());let c=b.toString();return d(`/insights${c?`?${c}`:""}`)}},chat:{reportChat:(a,b)=>d(`/chat/report/${a}`,{method:"POST",body:JSON.stringify({message:b})})},actionItems:{list:a=>{let b=new URLSearchParams;a?.completed!==void 0&&b.set("completed",String(a.completed)),a?.priority&&b.set("priority",a.priority);let c=b.toString();return d(`/action-items${c?`?${c}`:""}`)},create:a=>d("/action-items",{method:"POST",body:JSON.stringify(a)}),update:(a,b)=>d(`/action-items/${a}`,{method:"PATCH",body:JSON.stringify(b)})},dailyBriefing:{get:a=>{let b=new URLSearchParams;a&&b.set("date",a);let c=b.toString();return d(`/daily-briefing${c?`?${c}`:""}`).catch(a=>{if(a.message.includes("404")||a.message.includes("No briefing"))return null;throw a})}}}},2728:(a,b,c)=>{c.d(b,{E:()=>I});var d=c(1925),e=c(560),f=c(956),g=c(4234),h=c(4852),i=c(1585),j=c(237),k=c(2564);let l=(0,k.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var m=c(3774);let n=(0,k.A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var o=c(3986);let p=(0,k.A)("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),q=(0,k.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),r=(0,k.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var s=c(1897),t=c(8241);let u=(0,k.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),v=(0,k.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),w=(0,k.A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),x=(0,k.A)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var y=c(2093),z=c(7120),A=c(2577),B=c(8566);let C=(0,k.A)("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),D=(0,k.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),E=({currentValue:a,color:b,label:c})=>{let e=[.82*a,.88*a,.85*a,.92*a,.96*a,a],f=1.05*Math.max(...e),g=.9*Math.min(...e),h=f-g,i=e.map((a,b)=>{let c=b/(e.length-1)*100;return`${c},${50-(a-g)/h*40}`}).join(" "),j=`M 0,50 ${i} L 100,50 Z`,k=`M ${i.split(" ")[0]} L ${i.split(" ").slice(1).join(" L ")}`,l={indigo:{stroke:"#6366f1",fill:"#e0e7ff",text:"text-indigo-600"},emerald:{stroke:"#10b981",fill:"#d1fae5",text:"text-emerald-600"}}[b];return(0,d.jsxs)("div",{className:"w-full h-full flex flex-col justify-end",children:[(0,d.jsx)("div",{className:"relative h-24 w-full overflow-hidden",children:(0,d.jsxs)("svg",{viewBox:"0 0 100 50",preserveAspectRatio:"none",className:"w-full h-full",children:[(0,d.jsx)("defs",{children:(0,d.jsxs)("linearGradient",{id:`grad-${b}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,d.jsx)("stop",{offset:"0%",style:{stopColor:l.fill,stopOpacity:.8}}),(0,d.jsx)("stop",{offset:"100%",style:{stopColor:l.fill,stopOpacity:0}})]})}),(0,d.jsx)("path",{d:j,fill:`url(#grad-${b})`,stroke:"none"}),(0,d.jsx)("path",{d:k,fill:"none",stroke:l.stroke,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.map((a,b)=>{let c=b/(e.length-1)*100;return(0,d.jsx)("circle",{cx:c,cy:50-(a-g)/h*40,r:"1.5",className:5===b?l.text:"text-white",fill:"currentColor",stroke:l.stroke,strokeWidth:"0.5"},b)})]})}),(0,d.jsxs)("div",{className:"flex justify-between mt-2 text-[10px] text-slate-400 font-medium uppercase tracking-wider px-1",children:[(0,d.jsx)("span",{children:"Mai"}),(0,d.jsx)("span",{children:"Jun"}),(0,d.jsx)("span",{children:"Jul"}),(0,d.jsx)("span",{children:"Aug"}),(0,d.jsx)("span",{children:"Sep"}),(0,d.jsx)("span",{className:"text-slate-900 font-bold",children:"Okt"})]})]})},F=({data:a})=>{let b=(a.revenue-a.targetRevenue).toFixed(1),c=a.revenue>=a.targetRevenue;return(0,d.jsxs)(g.Zp,{className:"p-0 overflow-hidden border-slate-200 flex flex-col h-full bg-white relative hover:shadow-lg transition-all duration-300 group",children:[(0,d.jsxs)("div",{className:"p-6 pb-0 flex justify-between items-start mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center border border-emerald-100 group-hover:scale-110 transition-transform",children:(0,d.jsx)(l,{size:20,strokeWidth:2.5})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 mb-0.5",children:"Finansiell Ytelse"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:a.revenue}),(0,d.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"MNOK"})]})]})]}),(0,d.jsxs)(g.Ex,{variant:c?"success":"warning",className:"flex items-center gap-1",children:[c?(0,d.jsx)(m.A,{size:12}):(0,d.jsx)(n,{size:12}),c?"+":"",b]})]}),(0,d.jsx)("div",{className:"flex-1 mt-auto px-2 pb-2",children:(0,d.jsx)(E,{currentValue:a.revenue,color:"emerald",label:"Omsetning"})})]})},G=({data:a})=>(0,d.jsxs)(g.Zp,{className:"p-0 overflow-hidden border-slate-200 flex flex-col h-full bg-white relative hover:shadow-lg transition-all duration-300 group",children:[(0,d.jsxs)("div",{className:"p-6 pb-0 flex justify-between items-start mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center border border-indigo-100 group-hover:scale-110 transition-transform",children:(0,d.jsx)(o.A,{size:20,strokeWidth:2.5})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 mb-0.5",children:"Markedsposisjon"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("span",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:[a.marketShare,"%"]}),(0,d.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"andel"})]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Trend"}),(0,d.jsx)("p",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-md border border-indigo-100",children:"+1.2%"})]})]}),(0,d.jsx)("div",{className:"flex-1 mt-auto px-2 pb-2",children:(0,d.jsx)(E,{currentValue:a.marketShare,color:"indigo",label:"Markedsandel"})})]}),H=({mentions:a})=>{let[b,c]=(0,e.useState)(!1);if(!a||0===a.length)return null;let f={positive:a.filter(a=>"positive"===a.sentiment).length,neutral:a.filter(a=>"neutral"===a.sentiment).length,negative:a.filter(a=>"negative"===a.sentiment).length},h=a.length,i=f.positive/h*100,j=f.neutral/h*100;return(0,d.jsxs)(g.Zp,{className:"overflow-hidden border-slate-200 bg-white transition-all duration-300 hover:shadow-lg",children:[(0,d.jsxs)("div",{className:"p-6 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,d.jsx)("div",{className:"flex items-center gap-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-slate-50 text-slate-600 rounded-full flex items-center justify-center border border-slate-100",children:(0,d.jsx)(p,{size:20,strokeWidth:2.5})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 mb-0.5",children:"Mediedekning"}),(0,d.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,d.jsx)("span",{className:"text-2xl font-bold text-slate-900",children:h}),(0,d.jsx)("span",{className:"text-sm text-slate-500 font-medium",children:"artikler"})]})]})]})}),(0,d.jsxs)("div",{className:"flex-1 max-w-md px-6 border-x border-slate-100 hidden md:block",children:[(0,d.jsxs)("div",{className:"flex justify-between text-[10px] font-bold text-slate-500 mb-2 uppercase tracking-wide",children:[(0,d.jsx)("span",{children:"Sentiment"}),(0,d.jsx)("span",{className:"text-slate-400 font-normal",children:"Siste 30 dager"})]}),(0,d.jsxs)("div",{className:"h-2 w-full rounded-full flex overflow-hidden bg-slate-100",children:[(0,d.jsx)("div",{className:"h-full bg-emerald-500",style:{width:`${i}%`}}),(0,d.jsx)("div",{className:"h-full bg-slate-300",style:{width:`${j}%`}}),(0,d.jsx)("div",{className:"h-full bg-rose-500 flex-1"})]})]}),(0,d.jsxs)(g.$n,{variant:"ghost",size:"sm",onClick:()=>c(!b),className:"shrink-0 text-slate-500 hover:text-slate-900",children:[b?"Skjul":"Se detaljer",b?(0,d.jsx)(q,{size:16,className:"ml-2"}):(0,d.jsx)(r,{size:16,className:"ml-2"})]})]}),b&&(0,d.jsx)("div",{className:"border-t border-slate-100 bg-slate-50/50 p-6 animate-in slide-in-from-top-2 fade-in",children:(0,d.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:(0,d.jsxs)(g.XI,{children:[(0,d.jsx)(g.A0,{children:(0,d.jsxs)(g.Hj,{className:"bg-slate-50/80 hover:bg-slate-50/80",children:[(0,d.jsx)(g.nd,{className:"w-[100px] text-xs font-bold uppercase tracking-wider text-slate-500",children:"Dato"}),(0,d.jsx)(g.nd,{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"Kilde"}),(0,d.jsx)(g.nd,{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"Tittel"}),(0,d.jsx)(g.nd,{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"Sentiment"}),(0,d.jsx)(g.nd,{className:"text-right"})]})}),(0,d.jsx)(g.BF,{children:a.map(a=>(0,d.jsxs)(g.Hj,{children:[(0,d.jsx)(g.nA,{className:"text-xs text-slate-500 font-medium whitespace-nowrap",children:a.date}),(0,d.jsx)(g.nA,{className:"text-sm font-semibold text-slate-700",children:a.source}),(0,d.jsx)(g.nA,{children:(0,d.jsx)("span",{className:"font-medium text-slate-900",children:a.title})}),(0,d.jsx)(g.nA,{children:(0,d.jsx)(g.Ex,{variant:"outline",className:(0,g.cn)("text-[10px] uppercase tracking-wider font-bold border-0 px-2 py-1","positive"===a.sentiment?"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200":"negative"===a.sentiment?"bg-rose-50 text-rose-700 ring-1 ring-rose-200":"bg-slate-100 text-slate-600 ring-1 ring-slate-200"),children:"positive"===a.sentiment?"Positiv":"negative"===a.sentiment?"Risiko":"N\xf8ytral"})}),(0,d.jsx)(g.nA,{className:"text-right",children:(0,d.jsx)(g.$n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-slate-400 hover:text-blue-600",children:(0,d.jsx)(s.A,{size:14})})})]},a.id))})]})})})]})},I=({report:a,allReports:b,financials:c,onSelectReport:k,onItemClick:l,onAddToBoard:m})=>{var n;let[o,p]=(0,e.useState)("dashboard"),[q,E]=(0,e.useState)(!0),[I,J]=(0,e.useState)(""),[K,L]=(0,e.useState)([{role:"ai",text:`Hei! Jeg har analysert ${a.title}. Hva vil du vite mer om?`}]),M=(0,e.useRef)(null),N=(n=a.id,(0,i.n)({mutationFn:a=>j.FH.chat.reportChat(n,a)}));(0,e.useEffect)(()=>{L([{role:"ai",text:`Hei! Jeg har analysert ${a.title}. Hva vil du vite mer om?`}])},[a.id]);let O=()=>{I.trim()&&!N.isPending&&(L(a=>[...a,{role:"user",text:I}]),J(""),N.mutate(I,{onSuccess:a=>{L(b=>[...b,{role:"ai",text:a.answer,sources:a.sources}]),M.current?.scrollIntoView({behavior:"smooth"})},onError:a=>{L(b=>[...b,{role:"ai",text:`Beklager, jeg kunne ikke svare p\xe5 det n\xe5. Feil: ${a.message}`}]),M.current?.scrollIntoView({behavior:"smooth"})}}))},P=a.track===f.C.PRODUCT;return(0,d.jsxs)("div",{className:"flex h-[calc(100vh-140px)] gap-8 animate-in fade-in",children:[(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto pr-4 flex flex-col pb-10 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:[(0,d.jsxs)("div",{className:"flex flex-col mb-8 flex-shrink-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsxs)(g.Ex,{variant:"outline",className:"bg-white text-slate-500 font-medium px-3 py-1 border-slate-200",children:[(0,d.jsx)(t.A,{size:12,className:"mr-2 text-slate-400"})," ",a.date]}),(0,d.jsx)("div",{className:"h-4 w-px bg-slate-300 rotate-12"}),(0,d.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:a.track})]}),(0,d.jsxs)("div",{className:"flex justify-between items-end mb-8 relative",children:[(0,d.jsx)("h1",{className:"text-4xl font-extrabold text-slate-900 leading-tight tracking-tight max-w-2xl",children:a.title}),(0,d.jsxs)("div",{className:"flex items-center gap-1 bg-white p-1.5 rounded-xl border border-slate-200 shadow-sm shadow-slate-200/50",children:[b&&(0,d.jsx)("div",{className:"relative border-r border-slate-100 pr-1 mr-1",children:(0,d.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 transition-colors",children:["Periode: Oktober ",(0,d.jsx)(r,{size:14,className:"text-slate-400"})]})}),(0,d.jsx)("button",{className:"p-2 text-slate-500 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-colors",title:"Del rapport",children:(0,d.jsx)(u,{size:18})}),(0,d.jsx)("button",{className:"p-2 text-slate-500 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-colors",title:"Last ned PDF",children:(0,d.jsx)(v,{size:18})}),(0,d.jsx)("button",{className:"p-2 text-slate-500 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-colors",title:"Skriv ut",children:(0,d.jsx)(w,{size:18})})]})]}),(0,d.jsxs)("div",{className:"flex items-center border-b border-slate-200",children:[(0,d.jsxs)("button",{onClick:()=>p("dashboard"),className:(0,g.cn)("flex items-center gap-2 px-4 py-3 text-sm font-semibold transition-all relative","dashboard"===o?"text-slate-900":"text-slate-500 hover:text-slate-700"),children:[(0,d.jsx)(x,{size:18,className:"dashboard"===o?"text-indigo-600":"text-slate-400"}),"Dashboard","dashboard"===o&&(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 rounded-t-full"})]}),(0,d.jsxs)("button",{onClick:()=>p("document"),className:(0,g.cn)("flex items-center gap-2 px-4 py-3 text-sm font-semibold transition-all relative","document"===o?"text-slate-900":"text-slate-500 hover:text-slate-700"),children:[(0,d.jsx)(y.A,{size:18,className:"document"===o?"text-indigo-600":"text-slate-400"}),"Rapportdokument","document"===o&&(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 rounded-t-full"})]})]})]}),"dashboard"===o?(0,d.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 pt-2",children:[(0,d.jsx)("div",{className:"rounded-2xl p-[1px] bg-gradient-to-br from-indigo-500 via-purple-500 to-slate-900 shadow-xl",children:(0,d.jsxs)("div",{className:"bg-slate-900 rounded-[15px] p-8 md:p-10 relative overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl pointer-events-none"}),(0,d.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row gap-8 items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"flex items-center gap-2 mb-4",children:(0,d.jsx)(g.Ex,{variant:"outline",className:"text-indigo-200 border-indigo-500/30 bg-indigo-500/10 px-2 py-0.5 text-[10px] uppercase tracking-wider font-bold",children:"Executive Summary"})}),(0,d.jsx)("p",{className:"text-xl md:text-2xl leading-relaxed font-medium text-white tracking-tight",children:a.summary}),(0,d.jsxs)("div",{className:"mt-8 flex items-start gap-4",children:[(0,d.jsx)("div",{className:"p-2 bg-slate-800 rounded-lg border border-slate-700/50",children:(0,d.jsx)(z.A,{size:18,className:"text-indigo-400"})}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"AI Analyse"}),(0,d.jsx)("p",{className:"text-sm text-slate-300 leading-relaxed max-w-2xl",children:a.aiSummary})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center min-w-[200px] gap-3",children:[(0,d.jsxs)(g.$n,{onClick:()=>p("document"),className:"w-full bg-white text-slate-900 hover:bg-slate-100 font-bold h-12 rounded-xl shadow-lg transition-transform hover:scale-105",children:["Les hele rapporten ",(0,d.jsx)(A.A,{size:16,className:"ml-2"})]}),(0,d.jsx)("p",{className:"text-[10px] text-slate-500 font-medium",children:"Est. lesetid: 4 min"})]})]})]})}),P&&c&&(0,d.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 min-h-[260px]",children:[(0,d.jsx)(F,{data:c}),(0,d.jsx)(G,{data:c})]}),c.mediaMentions&&c.mediaMentions.length>0&&(0,d.jsx)(H,{mentions:c.mediaMentions})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[(0,d.jsx)(B.A,{size:24,className:"text-indigo-600"}),"Strategiske Hendelser"]}),(0,d.jsxs)(g.Ex,{variant:"secondary",className:"bg-slate-100 text-slate-600",children:[a.keyInsights.length," hendelser"]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.keyInsights.map(b=>(0,d.jsxs)("div",{className:"relative group",children:[(0,d.jsx)(h.n,{item:b,onClick:l,compact:!0}),a.track===f.C.PORTFOLIO&&m&&(0,d.jsx)("div",{className:"absolute bottom-4 right-4 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,d.jsx)(g.$n,{size:"sm",className:"bg-slate-900 text-white shadow-lg",onClick:a=>{a.stopPropagation(),m(b)},children:"Legg til i Radar"})})]},b.id))})]})]}):(0,d.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm min-h-[800px] animate-in fade-in slide-in-from-bottom-2 mx-auto w-full max-w-4xl p-16 mt-6",children:[(0,d.jsxs)("div",{className:"border-b border-slate-100 pb-10 mb-10 text-center",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center p-4 bg-slate-50 rounded-full mb-6",children:(0,d.jsx)(C,{size:32,className:"text-slate-400"})}),(0,d.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-4 tracking-tight",children:a.title}),(0,d.jsxs)("p",{className:"text-slate-500 font-medium",children:["Generert ",new Date().toLocaleDateString("no-NO")," • Konfidensielt • ",a.track]})]}),(0,d.jsxs)("div",{className:"mb-12 p-8 bg-slate-50 rounded-xl border border-slate-100 text-slate-700 leading-relaxed text-lg",children:[(0,d.jsx)("strong",{className:"block text-slate-900 font-bold mb-3 uppercase text-xs tracking-wider",children:"Sammendrag"}),a.summary]}),(0,d.jsx)("div",{className:"space-y-16",children:a.sections&&a.sections.length>0?a.sections.map((a,b)=>(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-3",children:[(0,d.jsx)("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-sm text-slate-500",children:b+1}),a.title]}),(0,d.jsx)("div",{className:"prose prose-slate max-w-none text-lg text-slate-700 leading-8 whitespace-pre-line pl-11",children:a.content})]},b)):(0,d.jsx)("div",{className:"text-center py-20 text-slate-400 italic",children:"Dypdykk er ikke tilgjengelig for denne rapporten enn\xe5."})}),(0,d.jsx)("div",{className:"mt-20 pt-10 border-t border-slate-100 text-center text-sm text-slate-400",children:(0,d.jsx)("p",{children:"MarketOps Intelligence • Pharma Nordic Internt Bruk"})})]})]}),(0,d.jsxs)("div",{className:(0,g.cn)("w-80 bg-white border-l border-slate-200 flex flex-col transition-all duration-300 shadow-xl z-20 flex-shrink-0 rounded-tl-2xl overflow-hidden mt-4",q?"translate-x-0":"translate-x-full hidden"),children:[(0,d.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(z.A,{size:16,className:"text-indigo-600"}),(0,d.jsx)("span",{className:"font-bold text-sm text-slate-900",children:"AI Assistent"})]}),(0,d.jsx)(g.Ex,{variant:"secondary",className:"bg-white border-slate-200 text-xs",children:"Beta"})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white",children:[K.map((a,b)=>(0,d.jsxs)("div",{className:(0,g.cn)("flex flex-col","ai"===a.role?"items-start":"items-end"),children:[(0,d.jsx)("div",{className:(0,g.cn)("max-w-[85%] rounded-2xl p-3 text-sm leading-relaxed shadow-sm","ai"===a.role?"bg-slate-50 text-slate-700 border border-slate-100 rounded-tl-none":"bg-slate-900 text-white rounded-tr-none"),children:a.text}),"ai"===a.role&&a.sources&&a.sources.length>0&&(0,d.jsx)("div",{className:"mt-2 flex flex-wrap gap-2 max-w-[85%]",children:a.sources.map((a,b)=>(0,d.jsxs)("a",{href:a.url||"#",target:a.url?"_blank":void 0,rel:a.url?"noopener noreferrer":void 0,className:(0,g.cn)("inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium border transition-colors",a.url?"bg-white text-slate-700 border-slate-200 hover:bg-slate-50 hover:border-slate-300 cursor-pointer":"bg-slate-100 text-slate-500 border-slate-200 cursor-default"),children:[(0,d.jsx)("span",{className:"text-[10px] text-slate-400",children:"\uD83D\uDCC4"}),(0,d.jsx)("span",{className:"truncate max-w-[200px]",children:a.title}),a.url&&(0,d.jsx)(s.A,{size:10,className:"text-slate-400"})]},b))})]},b)),N.isPending&&(0,d.jsx)("div",{className:"flex justify-start",children:(0,d.jsx)("div",{className:"bg-slate-50 text-slate-500 border border-slate-100 rounded-2xl rounded-tl-none p-3 text-sm",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,d.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,d.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,d.jsx)("div",{ref:M})]}),(0,d.jsx)("div",{className:"p-4 bg-white border-t border-slate-100",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"text",value:I,onChange:a=>J(a.target.value),onKeyDown:a=>"Enter"===a.key&&!N.isPending&&O(),placeholder:N.isPending?"AI tenker...":"Sp\xf8r om rapporten...",disabled:N.isPending,className:"w-full pl-4 pr-10 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-slate-200 focus:border-slate-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed"}),(0,d.jsx)("button",{onClick:O,disabled:N.isPending||!I.trim(),className:"absolute right-2 top-2 p-1.5 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,d.jsx)(D,{size:14})})]})})]})]})}},3986:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(2564).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},4130:(a,b,c)=>{c.d(b,{rY:()=>h,z3:()=>i});var d=c(2978),e=c(237);let f={all:["reports"],lists:()=>[...f.all,"list"],list:(a={})=>[...f.lists(),a],details:()=>[...f.all,"detail"],detail:a=>[...f.details(),a]},g={all:["insights"],lists:()=>[...g.all,"list"],list:(a={})=>[...g.lists(),a]};function h(a={}){return(0,d.I)({queryKey:f.list(a),queryFn:()=>e.FH.reports.list(a),staleTime:3e5})}function i(a={}){return(0,d.I)({queryKey:g.list(a),queryFn:()=>e.FH.insights.list(a),staleTime:3e5})}},4852:(a,b,c)=>{c.d(b,{n:()=>t,w:()=>s});var d=c(1925),e=c(560),f=c.n(e),g=c(956),h=c(4234),i=c(8427),j=c(9725),k=c(6231),l=c(214),m=c(776),n=c(3636),o=c(9737),p=c(3774),q=c(8233),r=c(2577);let s=a=>{switch(a){case"Proponent":return{icon:i.A,color:"text-indigo-600",bg:"bg-indigo-50",border:"border-indigo-200"};case"Bentrio":return{icon:j.A,color:"text-cyan-600",bg:"bg-cyan-50",border:"border-cyan-200"};case"Smertebehandling":return{icon:k.A,color:"text-rose-600",bg:"bg-rose-50",border:"border-rose-200"};default:return{icon:l.A,color:"text-slate-600",bg:"bg-slate-50",border:"border-slate-200"}}},t=({item:a,onClick:b,compact:c})=>{let e=f().useMemo(()=>{let b=new Date(a.createdAt);return 3>=Math.ceil(Math.abs(new Date().getTime()-b.getTime())/864e5)},[a.createdAt]);return(0,d.jsxs)("div",{onClick:()=>b(a),className:"group bg-white rounded-lg border border-slate-200 hover:border-slate-300 hover:shadow-md transition-all cursor-pointer flex flex-col h-full relative",children:[e&&(0,d.jsxs)("div",{className:"absolute -top-1.5 -right-1.5 flex items-center gap-1 bg-blue-600 text-white text-[9px] font-bold px-1.5 py-0.5 rounded-full shadow-sm z-10 border border-white animate-in zoom-in duration-300",children:[(0,d.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"}),"NY"]}),(0,d.jsxs)("div",{className:"p-5 flex-1 flex flex-col",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,d.jsxs)("div",{className:"flex gap-2 flex-wrap items-center",children:[(0,d.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-semibold border ${(()=>{switch(a.type){case g.X.OPPORTUNITY:return"bg-amber-50 text-amber-700 border-amber-200";case g.X.RISK:return"bg-red-50 text-red-700 border-red-200";case g.X.EVIDENCE:return"bg-emerald-50 text-emerald-700 border-emerald-200";case g.X.PARTNER:return"bg-indigo-50 text-indigo-700 border-indigo-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}})()}`,children:[(()=>{switch(a.type){case g.X.OPPORTUNITY:return(0,d.jsx)(m.A,{size:18,className:"text-amber-500"});case g.X.RISK:return(0,d.jsx)(n.A,{size:18,className:"text-red-500"});case g.X.EVIDENCE:return(0,d.jsx)(o.A,{size:18,className:"text-emerald-500"});case g.X.TREND:return(0,d.jsx)(p.A,{size:18,className:"text-blue-500"});case g.X.PARTNER:return(0,d.jsx)(q.A,{size:18,className:"text-indigo-500"})}})(),a.type]}),a.relatedProducts.map(a=>{let b=s(a),c=b.icon;return(0,d.jsxs)("span",{className:(0,h.cn)("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border",b.bg,b.color,b.border),children:[(0,d.jsx)(c,{size:12}),a]},a)}),a.markets.map(a=>(0,d.jsx)("span",{className:"px-2 py-0.5 rounded bg-slate-100 text-slate-600 text-xs font-medium border border-slate-200",children:a},a))]}),a.fitScore&&(0,d.jsxs)("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded border border-indigo-100",children:[a.fitScore,"% Match"]})]}),(0,d.jsx)("h3",{className:"font-semibold text-slate-900 mb-2 leading-snug group-hover:text-blue-600 transition-colors",children:a.title}),!c&&(0,d.jsx)("p",{className:"text-sm text-slate-500 line-clamp-2 mb-4 flex-1",children:a.whyBullets[0]}),(0,d.jsxs)("div",{className:"mt-auto pt-4 border-t border-slate-100 flex items-center gap-4 text-xs font-medium text-slate-500",children:[(0,d.jsxs)("div",{title:"Forretningsbetydning",className:"flex items-center gap-1",children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${a.scores.impact>8?"bg-emerald-500":"bg-slate-300"}`}),"Betydning ",a.scores.impact]}),(0,d.jsxs)("div",{title:"Risikoniv\xe5",className:"flex items-center gap-1",children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${a.scores.risk>7?"bg-red-500":"bg-slate-300"}`}),"Risiko ",a.scores.risk]}),(0,d.jsxs)("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity text-blue-600 flex items-center gap-1",children:["Detaljer ",(0,d.jsx)(r.A,{size:12})]})]})]})]})}}};